!function r(o,i,a){function c(t,e){if(!i[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=i[t]={exports:{}},o[t][0].call(n.exports,function(e){return c(o[t][1][e]||e)},n,n.exports,r,o,i,a)}return i[t].exports}for(var s="function"==typeof require&&require,e=0;e<a.length;e++)c(a[e]);return c}({1:[function(e,t,n){"use strict";var r=window.fsUtils,o=r.getUserDataPath,i=r.readJsonSync,c=r.makeDirSync,a=r.writeFileSync,u=r.copyFile,l=r.downloadFile,s=r.writeFile,d=r.deleteFile,f=r.rmdirSync,p=r.unzip,h=r.isOutOfStorage,m=!1,g=null,y=!1,v=[],b=[],w=!1,_=0,E=/^https?:\/\/.*/,r={cacheDir:"gamecaches",cachedFileName:"cacheList.json",cacheEnabled:!0,autoClear:!0,cacheInterval:500,deleteInterval:500,writeFileInterval:2e3,outOfStorage:!1,tempFiles:null,cachedFiles:null,cacheQueue:{},version:"1.0",getCache:function(e){return this.cachedFiles.has(e)?this.cachedFiles.get(e).url:""},getTemp:function(e){return this.tempFiles.has(e)?this.tempFiles.get(e):""},init:function(){this.cacheDir=o()+"/"+this.cacheDir;var e=this.cacheDir+"/"+this.cachedFileName,t=i(e);t instanceof Error||!t.version?(t instanceof Error||f(this.cacheDir,!0),this.cachedFiles=new cc.AssetManager.Cache,c(this.cacheDir,!0),a(e,JSON.stringify({files:this.cachedFiles._map,version:this.version}),"utf8")):this.cachedFiles=new cc.AssetManager.Cache(t.files),this.tempFiles=new cc.AssetManager.Cache},updateLastTime:function(e){this.cachedFiles.has(e)&&(this.cachedFiles.get(e).lastTime=Date.now())},_write:function(){y=!(g=null),s(this.cacheDir+"/"+this.cachedFileName,JSON.stringify({files:this.cachedFiles._map,version:this.version}),"utf8",function(){y=!1;for(var e=0,t=b.length;e<t;e++)b[e]();b.length=0,b.push.apply(b,v),v.length=0})},writeCacheFile:function(e){g?e&&b.push(e):(g=setTimeout(this._write.bind(this),this.writeFileInterval),!0===y?e&&v.push(e):e&&b.push(e))},_cache:function(){var t,n=this;for(t in this.cacheQueue){var e=function(e){if(m=!1,e){if(h(e.message))return n.outOfStorage=!0,void(n.autoClear&&n.clearLRU())}else n.cachedFiles.add(t,{bundle:a,url:s,lastTime:c}),delete n.cacheQueue[t],n.writeCacheFile();cc.js.isEmptyObject(n.cacheQueue)||(m=!0,setTimeout(n._cache.bind(n),n.cacheInterval))},r=this.cacheQueue[t],o=r.srcUrl,i=r.isCopy,a=r.cacheBundleRoot,c=Date.now().toString(),s="",s=(a?"".concat(this.cacheDir,"/").concat(a,"/"):"".concat(this.cacheDir,"/")).concat(c).concat(_++).concat(cc.path.extname(t));return void(i?u(o,s,e):l(o,s,null,e))}m=!1},cacheFile:function(e,t,n,r,o){!(n=void 0!==n?n:this.cacheEnabled)||this.cacheQueue[e]||this.cachedFiles.has(e)||(this.cacheQueue[e]={srcUrl:t,cacheBundleRoot:r,isCopy:o},m||(m=!0,this.outOfStorage?m=!1:setTimeout(this._cache.bind(this),this.cacheInterval)))},clearCache:function(){var t=this;f(this.cacheDir,!0),this.cachedFiles=new cc.AssetManager.Cache,c(this.cacheDir,!0);var e=this.cacheDir+"/"+this.cachedFileName;this.outOfStorage=!1,a(e,JSON.stringify({files:this.cachedFiles._map,version:this.version}),"utf8"),cc.assetManager.bundles.forEach(function(e){E.test(e.base)&&t.makeBundleFolder(e.name)})},clearLRU:function(){if(!w){w=!0;var n=[],r=this;if(this.cachedFiles.forEach(function(t,e){"internal"!==t.bundle&&(r._isZipFile(e)&&cc.assetManager.bundles.find(function(e){return-1!==e.base.indexOf(t.url)})||n.push({originUrl:e,url:t.url,lastTime:t.lastTime}))}),n.sort(function(e,t){return e.lastTime-t.lastTime}),n.length=Math.floor(n.length/3),0!==n.length){for(var e=0,t=n.length;e<t;e++)this.cachedFiles.remove(n[e].originUrl);this.writeCacheFile(function(){setTimeout(function e(){var t=n.pop();r._isZipFile(t.originUrl)?(f(t.url,!0),r._deleteFileCB()):d(t.url,r._deleteFileCB.bind(r)),0<n.length?setTimeout(e,r.deleteInterval):w=!1},r.deleteInterval)})}}},removeCache:function(e){var t,n;this.cachedFiles.has(e)&&(n=(t=this).cachedFiles.remove(e).url,this.writeCacheFile(function(){t._isZipFile(e)?(f(n,!0),t._deleteFileCB()):d(n,t._deleteFileCB.bind(t))}))},_deleteFileCB:function(e){e||(this.outOfStorage=!1)},makeBundleFolder:function(e){c(this.cacheDir+"/"+e,!0)},unzipAndCacheBundle:function(t,e,n,r){var o=Date.now().toString(),i="".concat(this.cacheDir,"/").concat(n,"/").concat(o).concat(_++),a=this;c(i,!0),p(e,i,function(e){return e?(f(i,!0),h(e.message)&&(a.outOfStorage=!0,a.autoClear&&a.clearLRU()),void(r&&r(e))):(a.cachedFiles.add(t,{bundle:n,url:i,lastTime:o}),a.writeCacheFile(),void(r&&r(null,i)))})},_isZipFile:function(e){return".zip"===e.slice(-4)}};cc.assetManager.cacheManager=t.exports=r},{}],2:[function(e,t,n){"use strict";var r,u,l=e("../cache-manager"),o=window.fsUtils,d=o.fs,f=o.downloadFile,i=o.readText,a=o.readArrayBuffer,c=o.readJson,p=o.loadSubpackage,h=o.getUserDataPath,s=o.exists,m=/^https?:\/\/.*/,g={},y=cc.assetManager.downloader,v=cc.assetManager.parser,b=cc.assetManager.presets,w=__globalAdapter.isSubContext;y.maxConcurrency=8,y.maxRequestsPerFrame=64,b.scene.maxConcurrency=10,b.scene.maxRequestsPerFrame=64;var _={},E={};function N(e,t,n){"function"==typeof t&&(n=t,t=null),m.test(e)?n&&n(new Error("Can not load remote scripts")):(__cocos_require__(e),n&&n(null))}function S(e,t,n){"function"==typeof t&&(n=t,t=null);var t=cc.sys;(t=(t.platform===t.TAOBAO?window.document:document).createElement("audio")).src=e,n&&n(null,t)}function T(r,t,o,e,i){var n=F(r,o);n.inLocal?t(n.url,o,i):n.inCache?(l.updateLastTime(r),t(n.url,o,function(e,t){e&&l.removeCache(r),i(e,t)})):f(r,null,o.header,e,function(e,n){e?i(e,null):t(n,o,function(e,t){e||(l.tempFiles.add(r,n),l.cacheFile(r,n,o.cacheEnabled,o.__cacheBundleRoot__,!0)),i(e,t)})})}function O(e,t,n){a(e,n)}function C(e,t,n){i(e,n)}function A(e,t,n){c(e,n)}var j=w?function(e,t,n){e=(e=F(e,t).url).slice(r.length+1);e=__cocos_require__(cc.path.changeExtname(e,".js"));n&&n(null,e)}:function(e,t,n){T(e,A,t,t.onFileProgress,n)},M=w?function(e,t,n){n(null,"Arial")}:function(e,t,n){n(null,__globalAdapter.loadFont(e)||"Arial")};function x(t,e,n){s(t,function(e){e?n(null,t):n(new Error("file ".concat(t," does not exist!")))})}function D(e,t,n){T(e,x,t,t.onFileProgress,n)}var I=v.parsePVRTex,e=function(e,n,r){a(e,function(e,t){return e?r(e):void I(t,n,r)})},P=v.parsePKMTex,o=function(e,n,r){a(e,function(e,t){return e?r(e):void P(t,n,r)})};b=w?function(e,t,n){n(null,e=F(e,t).url)}:D;y.downloadDomAudio=S,y.downloadScript=N,v.parsePVRTex=e,v.parsePKMTex=o,y.register({".js":N,".mp3":D,".ogg":D,".wav":D,".m4a":D,".png":b,".jpg":b,".bmp":b,".jpeg":b,".gif":b,".ico":b,".tiff":b,".image":b,".webp":b,".pvr":D,".pkm":D,".font":D,".eot":D,".ttf":D,".woff":D,".svg":D,".ttc":D,".txt":D,".xml":D,".vsh":D,".fsh":D,".atlas":D,".tmx":D,".tsx":D,".plist":D,".fnt":D,".json":j,".ExportJson":D,".binary":D,".bin":D,".dbbin":D,".skel":D,".mp4":D,".avi":D,".mov":D,".mpg":D,".mpeg":D,".rm":D,".rmvb":D,bundle:function(e,t,a){var n,c,r=cc.path.basename(e),o=t.version||cc.assetManager.downloader.bundleVers[r];if(_[r]){var i="subpackages/".concat(r,"/config.").concat(o?o+".":"","json"),s=function(){j(i,t,function(e,t){t&&(t.base="subpackages/".concat(r,"/")),a(e,t)})};if(g[r])return s();p(r,t.onFileProgress,function(e){e?a(e,null):(g[r]=!0,s())})}else{m.test(e)||!w&&e.startsWith(h())?(c=e,n="src/scripts/".concat(r,"/index.js"),l.makeBundleFolder(r)):E[r]?(c="".concat(u,"remote/").concat(r),n="src/scripts/".concat(r,"/index.js"),l.makeBundleFolder(r)):(c="assets/".concat(r),n="assets/".concat(r,"/index.js")),__cocos_require__(n),t.__cacheBundleRoot__=r;i="".concat(c,"/config.").concat(o?o+".":"","json");j(i,t,function(e,n){var r,o,i;e?a&&a(e):n.isZip?(e=n.zipVersion,e="".concat(c,"/res.").concat(e?e+".":"","zip"),r=e,o=t,i=function(e,t){e?a&&a(e):(n.base=t+"/res/",(e=cc.sys).platform!==e.ALIPAY_GAME||e.os!==e.OS_ANDROID||d.accessSync({path:t=t+"res/"})&&(n.base=t),a&&a(null,n))},(e=l.cachedFiles.get(r))?(l.updateLastTime(r),i&&i(null,e.url)):m.test(r)?f(r,null,o.header,o.onFileProgress,function(e,t){e?i&&i(e):l.unzipAndCacheBundle(r,t,o.__cacheBundleRoot__,i)}):l.unzipAndCacheBundle(r,r,o.__cacheBundleRoot__,i)):(n.base=c+"/",a&&a(null,n))})}},default:function(e,t,n){T(e,C,t,t.onFileProgress,n)}}),v.register({".png":y.downloadDomImage,".jpg":y.downloadDomImage,".bmp":y.downloadDomImage,".jpeg":y.downloadDomImage,".gif":y.downloadDomImage,".ico":y.downloadDomImage,".tiff":y.downloadDomImage,".image":y.downloadDomImage,".webp":y.downloadDomImage,".pvr":e,".pkm":o,".font":M,".eot":M,".ttf":M,".woff":M,".svg":M,".ttc":M,".mp3":S,".ogg":S,".wav":S,".m4a":S,".txt":C,".xml":C,".vsh":C,".fsh":C,".atlas":C,".tmx":C,".tsx":C,".fnt":C,".plist":function(e,t,r){i(e,function(e,t){var n=null;e||(n=cc.plistParser.parse(t))||(e=new Error("parse failed")),r&&r(e,n)})},".binary":O,".bin":O,".dbbin":O,".skel":O,".ExportJson":A});var L,F=w?function(e,t){return{url:e=!m.test(e)?r+"/"+e:e}}:function(e,t){var n=!1,r=!1;return!e.startsWith(h())&&m.test(e)?t.reload||((t=l.cachedFiles.get(e))?(r=!0,e=t.url):(t=l.tempFiles.get(e))&&(n=!0,e=t)):n=!0,{url:e,inLocal:n,inCache:r}};w?(L=cc.assetManager.init,cc.assetManager.init=function(e){L.call(cc.assetManager,e),r=e.subContextRoot||""}):(cc.assetManager.transformPipeline.append(function(e){for(var t=e.output=e.input,n=0,r=t.length;n<r;n++){var o=t[n],i=o.options;o.config?i.__cacheBundleRoot__=o.config.name:"bundle"!==o.ext&&(i.cacheEnabled=void 0!==i.cacheEnabled&&i.cacheEnabled)}}),L=cc.assetManager.init,cc.assetManager.init=function(e){L.call(cc.assetManager,e),e.subpackages&&e.subpackages.forEach(function(e){return _[e]="subpackages/"+e}),e.remoteBundles&&e.remoteBundles.forEach(function(e){return E[e]=!0}),(u=e.server||"")&&!u.endsWith("/")&&(u+="/"),l.init()})},{"../cache-manager":1}],3:[function(e,t,n){"use strict";var r,o=cc._Audio;o&&(r=o.prototype.getDuration,Object.assign(o.prototype,{_createElement:function(){var e=this._src._nativeAsset;this._element||(this._element=__globalAdapter.createInnerAudioContext()),this._element.src=e.src},destroy:function(){this._element&&(this._element.destroy(),this._element=null)},setCurrentTime:function(e){var t=this;this._src&&this._src._ensureLoaded(function(){t._element.seek(e)})},stop:function(){var e=this;this._src&&this._src._ensureLoaded(function(){e._element.seek(0),e._element.stop(),e._unbindEnded(),e.emit("stop"),e._state=o.State.STOPPED})},_bindEnded:function(){var e=this._element;e&&e.onEnded&&!this._onended._binded&&(this._onended._binded=!0,e.onEnded(this._onended))},_unbindEnded:function(){var e=this._element;e&&e.offEnded&&this._onended._binded&&(this._onended._binded=!1,e.offEnded&&e.offEnded(this._onended))},getDuration:function(){return r.call(this)||(this._element?this._element.duration:0)},_touchToPlay:function(){},_forceUpdatingState:function(){}}))},{}],4:[function(e,t,n){"use strict";cc&&cc.audioEngine&&(cc.audioEngine._maxAudioInstance=10)},{}],5:[function(e,t,n){"use strict";var r=cc.internal.inputManager,o=window.__globalAdapter;Object.assign(r,{setAccelerometerEnabled:function(e){var t=cc.director.getScheduler();t.enableForTarget(this),e?(this._registerAccelerometerEvent(),t.scheduleUpdate(this)):(this._unregisterAccelerometerEvent(),t.unscheduleUpdate(this))},_registerAccelerometerEvent:function(){this._accelCurTime=0;var t=this;this._acceleration=new cc.Acceleration,o.startAccelerometer(function(e){t._acceleration.x=e.x,t._acceleration.y=e.y,t._acceleration.z=e.y})},_unregisterAccelerometerEvent:function(){this._accelCurTime=0,o.stopAccelerometer()}})},{}],6:[function(e,t,n){"use strict";function r(){u.call(this),this._eventListeners={onKeyboardInput:null,onKeyboardConfirm:null,onKeyboardComplete:null}}var o,i,a,c,s,u;cc&&cc.EditBox&&(o=cc.EditBox,i=cc.js,a=o.KeyboardReturnType,s=c=null,u=o._ImplClass,i.extend(r,u),o._ImplClass=r,Object.assign(r.prototype,{init:function(e){e?this._delegate=e:cc.error("EditBox init failed")},beginEditing:function(){var t=this;this._editing||this._ensureKeyboardHide(function(){var e=t._delegate;t._showKeyboard(),t._registerKeyboardEvent(),t._editing=!0,s=t,e.editBoxEditingDidBegan()})},endEditing:function(){this._hideKeyboard();var e=this._eventListeners;e.onKeyboardComplete&&e.onKeyboardComplete()},_registerKeyboardEvent:function(){var n=this,r=this._delegate,e=this._eventListeners;e.onKeyboardInput=function(e){r._string!==e.value&&r.editBoxTextChanged(e.value)},e.onKeyboardConfirm=function(e){r.editBoxEditingReturn();var t=n._eventListeners;t.onKeyboardComplete&&t.onKeyboardComplete()},e.onKeyboardComplete=function(){n._editing=!1,s=null,n._unregisterKeyboardEvent(),r.editBoxEditingDidEnded()},__globalAdapter.onKeyboardInput(e.onKeyboardInput),__globalAdapter.onKeyboardConfirm(e.onKeyboardConfirm),__globalAdapter.onKeyboardComplete(e.onKeyboardComplete)},_unregisterKeyboardEvent:function(){var e=this._eventListeners;e.onKeyboardInput&&(__globalAdapter.offKeyboardInput(e.onKeyboardInput),e.onKeyboardInput=null),e.onKeyboardConfirm&&(__globalAdapter.offKeyboardConfirm(e.onKeyboardConfirm),e.onKeyboardConfirm=null),e.onKeyboardComplete&&(__globalAdapter.offKeyboardComplete(e.onKeyboardComplete),e.onKeyboardComplete=null)},_otherEditing:function(){return!!s&&s!==this&&s._editing},_ensureKeyboardHide:function(e){var t=this._otherEditing();if(!t&&!c)return e();c&&clearTimeout(c),t&&s.endEditing(),c=setTimeout(function(){c=null,e()},600)},_showKeyboard:function(){var e=this._delegate,t=e.inputMode===o.InputMode.ANY,n=e.maxLength<0?65535:e.maxLength;__globalAdapter.showKeyboard({defaultValue:e._string,maxLength:n,multiple:t,confirmHold:!1,confirmType:function(e){switch(e){case a.DEFAULT:case a.DONE:return"done";case a.SEND:return"send";case a.SEARCH:return"search";case a.GO:return"go";case a.NEXT:return"next"}return"done"}(e.returnType),success:function(e){},fail:function(e){cc.warn(e.errMsg)}})},_hideKeyboard:function(){__globalAdapter.hideKeyboard({success:function(e){},fail:function(e){cc.warn(e.errMsg)}})}}))},{}],7:[function(e,t,n){"use strict";var r=cc.internal.inputManager,o=cc.renderer,i=cc.game,a=cc.dynamicAtlasManager,c=i.run;Object.assign(i,{_banRunningMainLoop:__globalAdapter.isSubContext,_firstSceneLaunched:!1,run:function(){var e=this;cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){e._firstSceneLaunched=!0}),c.apply(this,arguments)},setFrameRate:function(e){this.config.frameRate=e,__globalAdapter.setPreferredFramesPerSecond?__globalAdapter.setPreferredFramesPerSecond(e):(this._intervalId&&window.cancelAnimFrame(this._intervalId),this._intervalId=0,this._paused=!0,this._setAnimFrame(),this._runMainLoop())},_runMainLoop:function(){var e,t,n,r,o,i;this._banRunningMainLoop||(n=(e=this).config,r=cc.director,o=!0,i=n.frameRate,cc.debug.setDisplayStats(n.showFPS),t=function(){e._paused||(e._intervalId=window.requestAnimFrame(t),30===i&&!__globalAdapter.setPreferredFramesPerSecond&&(o=!o)||r.mainLoop())},e._intervalId=window.requestAnimFrame(t),e._paused=!1)},_initRenderer:function(){var e,t;this._rendererInitialized||((t=cc.sys).platform===t.TAOBAO?this.frame=this.container=window.document.createElement("DIV"):this.frame=this.container=document.createElement("DIV"),e=__globalAdapter.isSubContext?window.sharedCanvas||__globalAdapter.getSharedCanvas():t.platform===t.TAOBAO?window.canvas:canvas,this.canvas=e,this._determineRenderType(),this.renderType===this.RENDER_TYPE_WEBGL&&(t={stencil:!0,antialias:cc.macro.ENABLE_WEBGL_ANTIALIAS,alpha:cc.macro.ENABLE_TRANSPARENT_CANVAS,preserveDrawingBuffer:!1},o.initWebGL(e,t),this._renderContext=o.device._gl,!cc.macro.CLEANUP_IMAGE_CACHE&&a&&(a.enabled=!0)),this._renderContext||(this.renderType=this.RENDER_TYPE_CANVAS,o.initCanvas(e),this._renderContext=o.device._ctx),this._rendererInitialized=!0)},_initEvents:function(){this.config.registerSystemEvent&&r.registerSystemEvent(this.canvas);var t=!1;__globalAdapter.onAudioInterruptionEnd&&__globalAdapter.onAudioInterruptionEnd(function(){cc.audioEngine&&cc.audioEngine._restore()}),__globalAdapter.onAudioInterruptionBegin&&__globalAdapter.onAudioInterruptionBegin(function(){cc.audioEngine&&cc.audioEngine._break()}),__globalAdapter.onShow&&__globalAdapter.onShow(function(e){t&&(t=!1,i.renderType===i.RENDER_TYPE_WEBGL&&i._renderContext.finish(),i.emit(i.EVENT_SHOW,e))}),__globalAdapter.onHide&&__globalAdapter.onHide(function(){t||(t=!0,i.emit(i.EVENT_HIDE))}),this.on(i.EVENT_HIDE,function(){i.pause()}),this.on(i.EVENT_SHOW,function(){i.resume()})},end:function(){}})},{}],8:[function(e,t,n){"use strict";var r=cc.internal.inputManager,o={left:0,top:0,width:window.innerWidth,height:window.innerHeight};r&&Object.assign(r,{_updateCanvasBoundingRect:function(){},registerSystemEvent:function(e){if(!this._isRegisterEvent){this._glView=cc.view;var t,n=this,r={onTouchStart:this.handleTouchesBegin,onTouchMove:this.handleTouchesMove,onTouchEnd:this.handleTouchesEnd,onTouchCancel:this.handleTouchesCancel};for(t in r)!function(e){var t=r[e];__globalAdapter[e](function(e){e.changedTouches&&t.call(n,n.getTouchesByEvent(e,o))})}(t);this._isRegisterEvent=!0}}})},{}],9:[function(e,t,n){"use strict";Object.assign(cc.screen,{autoFullScreen:function(e,t){}})},{}],10:[function(e,t,n){"use strict";var r=cc.Texture2D;r&&Object.assign(r.prototype,{initWithElement:function(e){e&&(this._image=e,this.handleLoadedTexture())}})},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){var n=(t=t||__globalAdapter.getSystemInfoSync()).language||"",r=t.system||"iOS",o=t.platform||"iOS";e.isNative=!1,e.isBrowser=!1,e.isMobile=!0,e.language=n.substr(0,2),e.languageCode=n.toLowerCase(),"android"===(o=o.toLowerCase())?e.os=e.OS_ANDROID:"ios"===o&&(e.os=e.OS_IOS),r=r.toLowerCase(),o=/[\d\.]+/.exec(r="android p"===r?"android p 9.0":r),e.osVersion=o?o[0]:r,e.osMainVersion=parseInt(e.osVersion),e.browserType=null,e.browserVersion=null,o=t.windowWidth,r=t.windowHeight,t=t.pixelRatio||1,e.windowPixelResolution={width:t*o,height:t*r},e.localStorage=window.localStorage,t=!__globalAdapter.isSubContext,r=!1;try{r=document.createElement("canvas").toDataURL("image/webp").startsWith("data:image/webp")}catch(e){}e.capabilities={canvas:!0,opengl:!!t,webp:r},e.__audioSupport={ONLY_ONE:!1,WEB_AUDIO:!1,DELAY_CREATE_CTX:!1,format:[".mp3"]}}},{}],12:[function(e,t,n){"use strict";t.exports=function(e){e._setupContainer=function(e,t,n){var r=e._devicePixelRatio=1;e.isRetinaEnabled()&&(r=e._devicePixelRatio=Math.min(e._maxPixelRatio,window.devicePixelRatio||1)),__globalAdapter.isSubContext||(n*=r,(e=cc.game.canvas).width===(t*=r)&&e.height===n||(e.width=t,e.height=n))}}},{}],13:[function(e,t,n){"use strict";t.exports=function(e){Object.assign(e,{_adjustViewportMeta:function(){},setRealPixelResolution:function(e,t,n){this.setDesignResolutionSize(e,t,n)},enableAutoFullScreen:function(e){cc.warn("cc.view.enableAutoFullScreen() is not supported on minigame platform.")},isAutoFullScreenEnabled:function(){return!1},setCanvasSize:function(){cc.warn("cc.view.setCanvasSize() is not supported on minigame platform.")},setFrameSize:function(){cc.warn("frame size is readonly on minigame platform.")},_initFrameSize:function(){var e,t=this._frameSize;__globalAdapter.isSubContext?(e=window.sharedCanvas||__globalAdapter.getSharedCanvas(),t.width=e.width,t.height=e.height):(t.width=window.innerWidth,t.height=window.innerHeight)}})}},{}],14:[function(e,t,n){"use strict";var r=window.__globalAdapter;Object.assign(r,{adaptSys:e("./BaseSystemInfo"),adaptView:e("./View"),adaptContainerStrategy:e("./ContainerStrategy")})},{"./BaseSystemInfo":11,"./ContainerStrategy":12,"./View":13}],15:[function(e,t,n){"use strict";e("./Audio"),e("./AudioEngine"),e("./DeviceMotionEvent"),e("./Editbox"),e("./Game"),e("./InputManager"),e("./AssetManager"),e("./Screen"),e("./Texture2D"),e("./misc")},{"./AssetManager":2,"./Audio":3,"./AudioEngine":4,"./DeviceMotionEvent":5,"./Editbox":6,"./Game":7,"./InputManager":8,"./Screen":9,"./Texture2D":10,"./misc":16}],16:[function(e,t,n){"use strict";cc.macro.DOWNLOAD_MAX_CONCURRENT=10},{}],17:[function(e,t,n){"use strict";t.exports={cloneMethod:function(e,t,n,r){t[n]&&(e[r=r||n]=t[n].bind(t))}}},{}],18:[function(e,t,n){"use strict";function r(e){this.options=e||{locator:{}}}function u(){this.cdata=!1}function l(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function d(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function o(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function f(e,t){(e.currentElement||e.doc).appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new h,o=n.domBuilder||new u,i=n.errorHandler,a=n.locator,c=n.xmlns||{},s=/\/x?html?$/.test(t),t=s?p.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return a&&o.setDocumentLocator(a),r.errorHandler=function(r,e,o){if(!r){if(e instanceof u)return e;r=e}var i={},a=r instanceof Function;function t(t){var n=r[t];!n&&a&&(n=2==r.length?function(e){r(t,e)}:r),i[t]=n?function(e){n("[xmldom "+t+"]\t"+e+d(o))}:function(){}}return o=o||{},t("warning"),t("error"),t("fatalError"),i}(i,o,a),r.domBuilder=n.domBuilder||o,s&&(c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,c,t):r.errorHandler.error("invalid doc source"),o.doc},u.prototype={startDocument:function(){this.doc=(new i).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var o=this.doc,i=o.createElementNS(e,n||t),a=r.length;f(this,i),this.currentElement=i,this.locator&&l(this.locator,i);for(var c=0;c<a;c++){var e=r.getURI(c),s=r.getValue(c),n=r.getQName(c),u=o.createAttributeNS(e,n);this.locator&&l(r.getLocator(c),u),u.value=u.nodeValue=s,i.setAttributeNode(u)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){t=this.doc.createProcessingInstruction(e,t);this.locator&&l(this.locator,t),f(this,t)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){var r;(e=o.apply(this,arguments))&&(r=this.cdata?this.doc.createCDATASection(e):this.doc.createTextNode(e),this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&l(this.locator,r))},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=o.apply(this,arguments);e=this.doc.createComment(e);this.locator&&l(this.locator,e),f(this,e)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;r&&r.createDocumentType&&(n=r.createDocumentType(e,t,n),this.locator&&l(this.locator,n),f(this,n))},warning:function(e){console.warn("[xmldom warning]\t"+e,d(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,d(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,d(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){u.prototype[e]=function(){return null}});var p=e("./entities"),h=e("./sax").XMLReader,i=n.DOMImplementation=e("./dom").DOMImplementation;n.XMLSerializer=e("./dom").XMLSerializer,n.DOMParser=r},{"./dom":19,"./entities":20,"./sax":21}],19:[function(e,t,n){"use strict";function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n in e)t[n]=e[n]}function o(e,t){var n=e.prototype;if(!(n instanceof t)){var r,o=function(){};for(r in o.prototype=t.prototype,o=new o,n)o[r]=n[r];e.prototype=n=o}n.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),n.constructor=e)}var i,h="http://www.w3.org/1999/xhtml",a={},m=a.ELEMENT_NODE=1,g=a.ATTRIBUTE_NODE=2,y=a.TEXT_NODE=3,v=a.CDATA_SECTION_NODE=4,b=a.ENTITY_REFERENCE_NODE=5,w=(a.ENTITY_NODE=6,a.PROCESSING_INSTRUCTION_NODE=7),_=a.COMMENT_NODE=8,E=a.DOCUMENT_NODE=9,N=a.DOCUMENT_TYPE_NODE=10,S=a.DOCUMENT_FRAGMENT_NODE=11,c=(a.NOTATION_NODE=12,{}),s={};c.INDEX_SIZE_ERR=(s[1]="Index size error",1),c.DOMSTRING_SIZE_ERR=(s[2]="DOMString size error",2),c.HIERARCHY_REQUEST_ERR=(s[3]="Hierarchy request error",3),c.WRONG_DOCUMENT_ERR=(s[4]="Wrong document",4),c.INVALID_CHARACTER_ERR=(s[5]="Invalid character",5),c.NO_DATA_ALLOWED_ERR=(s[6]="No data allowed",6),c.NO_MODIFICATION_ALLOWED_ERR=(s[7]="No modification allowed",7),c.NOT_FOUND_ERR=(s[8]="Not found",8),c.NOT_SUPPORTED_ERR=(s[9]="Not supported",9),c.INUSE_ATTRIBUTE_ERR=(s[10]="Attribute in use",10),c.INVALID_STATE_ERR=(s[11]="Invalid state",11),c.SYNTAX_ERR=(s[12]="Syntax error",12),c.INVALID_MODIFICATION_ERR=(s[13]="Invalid modification",13),c.NAMESPACE_ERR=(s[14]="Invalid namespace",14),c.INVALID_ACCESS_ERR=(s[15]="Invalid access",15);function u(e,t){var n;return t instanceof Error?n=t:(n=this,Error.call(this,s[e]),this.message=s[e],Error.captureStackTrace&&Error.captureStackTrace(this,u)),n.code=e,t&&(this.message=this.message+": "+t),n}function p(){}function l(e,t){this._node=e,this._refresh=t,d(this)}function d(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n,r=e._refresh(e._node);for(n in ee(e,"length",r.length),r)e[n]=r[n];e._inc=t}}function T(){}function O(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function C(e,t,n,r){r?t[O(t,r)]=n:t[t.length++]=n,!e||(t=(n.ownerElement=e).ownerDocument)&&(r&&P(t,e,r),e=e,n=n,(t=t)&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(e._nsMap[n.prefix?n.localName:""]=n.value))}function A(e,t,n){var r=O(t,n);if(!(0<=r))throw u(8,new Error(e.tagName+"@"+n));for(var o,i=t.length-1;r<i;)t[r]=t[++r];t.length=i,!e||(o=e.ownerDocument)&&(P(o,e,n),n.ownerElement=null)}function j(e){if(this._features={},e)for(var t in e)this._features=e[t]}function M(){}function x(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function D(e,t){if(t(e))return 1;if(e=e.firstChild)do{if(D(e,t))return 1}while(e=e.nextSibling)}function I(){}function P(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function L(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var o=t.firstChild,i=0;o;)o=(r[i++]=o).nextSibling;r.length=i}}}function F(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,L(e.ownerDocument,e),t}function R(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===S){var o=t.firstChild;if(null==o)return t;var i=t.lastChild}else o=i=t;r=n?n.previousSibling:e.lastChild;for(o.previousSibling=r,i.nextSibling=n,r?r.nextSibling=o:e.firstChild=o,null==n?e.lastChild=i:n.previousSibling=i;o.parentNode=e,o!==i&&(o=o.nextSibling););return L(e.ownerDocument||e,e),t.nodeType==S&&(t.firstChild=t.lastChild=null),t}function k(){this._nsMap={}}function B(){}function H(){}function U(){}function K(){}function W(){}function V(){}function q(){}function z(){}function G(){}function X(){}function $(){}function Y(){}function J(e,t){var n,r=[],o=9==this.nodeType&&this.documentElement||this,i=o.prefix,a=o.namespaceURI;return Z(this,r,e,t,n=a&&null==i&&null==(i=o.lookupPrefix(a))?[{namespace:a,prefix:null}]:n),r.join("")}function Q(e,t,n){var r=e.prefix||"",o=e.namespaceURI;if((r||o)&&("xml"!==r||"http://www.w3.org/XML/1998/namespace"!==o)&&"http://www.w3.org/2000/xmlns/"!=o){for(var i=n.length;i--;){var a=n[i];if(a.prefix==r)return a.namespace!=o}return 1}}function Z(e,t,n,r,o){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case m:o=o||[];var i=e.attributes,a=i.length,c=e.firstChild,s=e.tagName;n=h===e.namespaceURI||n,t.push("<",s);for(var u=0;u<a;u++)"xmlns"==(l=i.item(u)).prefix?o.push({prefix:l.localName,namespace:l.value}):"xmlns"==l.nodeName&&o.push({prefix:"",namespace:l.value});for(var l,d,f,u=0;u<a;u++)Q(l=i.item(u),0,o)&&(d=l.prefix||"",f=l.namespaceURI,t.push(d?" xmlns:"+d:" xmlns",'="',f,'"'),o.push({prefix:d,namespace:f})),Z(l,t,n,r,o);if(Q(e,0,o)&&(d=e.prefix||"",f=e.namespaceURI,t.push(d?" xmlns:"+d:" xmlns",'="',f,'"'),o.push({prefix:d,namespace:f})),c||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(s)){if(t.push(">"),n&&/^script$/i.test(s))for(;c;)c.data?t.push(c.data):Z(c,t,n,r,o),c=c.nextSibling;else for(;c;)Z(c,t,n,r,o),c=c.nextSibling;t.push("</",s,">")}else t.push("/>");return;case E:case S:for(c=e.firstChild;c;)Z(c,t,n,r,o),c=c.nextSibling;return;case g:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,x),'"');case y:return t.push(e.data.replace(/[<&]/g,x));case v:return t.push("<![CDATA[",e.data,"]]>");case _:return t.push("\x3c!--",e.data,"--\x3e");case N:var p=e.publicId,s=e.systemId;return t.push("<!DOCTYPE ",e.name),void(p?(t.push(' PUBLIC "',p),s&&"."!=s&&t.push('" "',s),t.push('">')):s&&"."!=s?t.push(' SYSTEM "',s,'">'):((s=e.internalSubset)&&t.push(" [",s,"]"),t.push(">")));case w:return t.push("<?",e.target," ",e.data,"?>");case b:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ee(e,t,n){e[t]=n}u.prototype=Error.prototype,r(c,u),p.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)Z(this[r],n,e,t);return n.join("")}},l.prototype.item=function(e){return d(this),this[e]},o(l,p),T.prototype={length:0,item:p.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new u(10);t=this.getNamedItem(e.nodeName);return C(this._ownerElement,this,e,t),t},setNamedItemNS:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new u(10);return t=this.getNamedItemNS(e.namespaceURI,e.localName),C(this._ownerElement,this,e,t),t},removeNamedItem:function(e){e=this.getNamedItem(e);return A(this._ownerElement,this,e),e},removeNamedItemNS:function(e,t){t=this.getNamedItemNS(e,t);return A(this._ownerElement,this,t),t},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},j.prototype={hasFeature:function(e,t){e=this._features[e.toLowerCase()];return!(!e||t&&!(t in e))},createDocument:function(e,t,n){var r=new I;return r.implementation=this,r.childNodes=new p,(r.doctype=n)&&r.appendChild(n),t&&(t=r.createElementNS(e,t),r.appendChild(t)),r},createDocumentType:function(e,t,n){var r=new V;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},M.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return R(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return F(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,r){var o=new n.constructor;for(var i in n){var a=n[i];"object"!=f(a)&&a!=o[i]&&(o[i]=a)}n.childNodes&&(o.childNodes=new p);o.ownerDocument=t;switch(o.nodeType){case m:var c=n.attributes,s=o.attributes=new T,u=c.length;s._ownerElement=o;for(var l=0;l<u;l++)o.setAttributeNode(e(t,c.item(l),!0));break;case g:r=!0}if(r)for(var d=n.firstChild;d;)o.appendChild(e(t,d,r)),d=d.nextSibling;return o}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==y&&e.nodeType==y?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==g?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==g?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},r(a,M),r(a,M.prototype),I.prototype={nodeName:"#document",nodeType:E,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType!=S)return null==this.documentElement&&e.nodeType==m&&(this.documentElement=e),R(this,e,t),e.ownerDocument=this,e;for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),F(this,e)},importNode:function(e,t){return function e(t,n,r){var o;switch(n.nodeType){case m:(o=n.cloneNode(!1)).ownerDocument=t;case S:break;case g:r=!0}o=o||n.cloneNode(!1);o.ownerDocument=t;o.parentNode=null;if(r)for(var i=n.firstChild;i;)o.appendChild(e(t,i,r)),i=i.nextSibling;return o}(this,e,t)},getElementById:function(t){var n=null;return D(this.documentElement,function(e){if(e.nodeType==m&&e.getAttribute("id")==t)return n=e,!0}),n},createElement:function(e){var t=new k;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new p,(t.attributes=new T)._ownerElement=t},createDocumentFragment:function(){var e=new X;return e.ownerDocument=this,e.childNodes=new p,e},createTextNode:function(e){var t=new U;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new K;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new W;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new $;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new B;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new G;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new k,r=t.split(":"),o=n.attributes=new T;return n.childNodes=new p,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,o._ownerElement=n},createAttributeNS:function(e,t){var n=new B,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},o(I,M),I.prototype.getElementsByTagName=(k.prototype={nodeType:m,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){e=this.getAttributeNode(e);return e&&e.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){e=this.ownerDocument.createAttribute(e);e.value=e.nodeValue=""+t,this.setAttributeNode(e)},removeAttribute:function(e){e=this.getAttributeNode(e);e&&this.removeAttributeNode(e)},appendChild:function(e){return e.nodeType===S?this.insertBefore(e,null):function(e,t){var n=t.parentNode;n&&(r=e.lastChild,n.removeChild(t),r=e.lastChild);var r=e.lastChild;return t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,L(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){t=this.getAttributeNodeNS(e,t);t&&this.removeAttributeNode(t)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){t=this.getAttributeNodeNS(e,t);return t&&t.value||""},setAttributeNS:function(e,t,n){t=this.ownerDocument.createAttributeNS(e,t);t.value=t.nodeValue=""+n,this.setAttributeNode(t)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(r){return new l(this,function(t){var n=[];return D(t,function(e){e===t||e.nodeType!=m||"*"!==r&&e.tagName!=r||n.push(e)}),n})},getElementsByTagNameNS:function(r,o){return new l(this,function(t){var n=[];return D(t,function(e){e===t||e.nodeType!==m||"*"!==r&&e.namespaceURI!==r||"*"!==o&&e.localName!=o||n.push(e)}),n})}}).getElementsByTagName,I.prototype.getElementsByTagNameNS=k.prototype.getElementsByTagNameNS,o(k,M),B.prototype.nodeType=g,o(B,M),H.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(s[3])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var r=this.data.substring(0,e),t=this.data.substring(e+t);this.nodeValue=this.data=n=r+n+t,this.length=n.length}},o(H,M),U.prototype={nodeName:"#text",nodeType:y,splitText:function(e){var t=(n=this.data).substring(e),n=n.substring(0,e);this.data=this.nodeValue=n,this.length=n.length;t=this.ownerDocument.createTextNode(t);return this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling),t}},o(U,H),K.prototype={nodeName:"#comment",nodeType:_},o(K,H),W.prototype={nodeName:"#cdata-section",nodeType:v},o(W,H),V.prototype.nodeType=N,o(V,M),q.prototype.nodeType=12,o(q,M),z.prototype.nodeType=6,o(z,M),G.prototype.nodeType=b,o(G,M),X.prototype.nodeName="#document-fragment",X.prototype.nodeType=S,o(X,M),$.prototype.nodeType=w,o($,M),Y.prototype.serializeToString=function(e,t,n){return J.call(e,t,n)},M.prototype.toString=J;try{Object.defineProperty&&(i=function e(t){switch(t.nodeType){case m:case S:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}},Object.defineProperty(l.prototype,"length",{get:function(){return d(this),this.$$length}}),Object.defineProperty(M.prototype,"textContent",{get:function(){return i(this)},set:function(e){switch(this.nodeType){case m:case S:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ee=function(e,t,n){e["$$"+t]=n})}catch(e){}n.DOMImplementation=j,n.XMLSerializer=Y},{}],20:[function(e,t,n){"use strict";n.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}},{}],21:[function(e,t,n){"use strict";var r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+r.source+o.source+"*(?::"+r.source+o.source+"*)?$"),M=0,x=1,D=2,I=3,P=4,L=5,F=6,R=7;function a(){}function k(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function B(e,t,n){for(var r=e.tagName,o=null,i=e.length;i--;){var a=e[i],c=a.qName,s=a.value,c=0<(l=c.indexOf(":"))?(u=a.prefix=c.slice(0,l),d=c.slice(l+1),"xmlns"===u&&d):(u=null,"xmlns"===(d=c)&&"");a.localName=d,!1!==c&&(null==o&&(o={},p(n,n={})),n[c]=o[c]=s,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(c,s))}for(var u,i=e.length;i--;)(u=(a=e[i]).prefix)&&("xml"===u&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(a.uri=n[u||""]));var l,d=0<(l=r.indexOf(":"))?(u=e.prefix=r.slice(0,l),e.localName=r.slice(l+1)):(u=null,e.localName=r),f=e.uri=n[u||""];if(t.startElement(f,d,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=o,1;if(t.endElement(f,d,r),o)for(u in o)t.endPrefixMapping(u)}function p(e,t){for(var n in e)t[n]=e[n]}function H(e){}a.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),p(t,t={}),function(n,e,r,o,i){function a(e){var t=e.slice(1,-1);return t in r?r[t]:"#"===t.charAt(0)?65535<(t=parseInt(t.substr(1).replace("x","0x")))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):String.fromCharCode(t):(i.error("entity not found:"+e),e)}function t(e){var t;h<e&&(t=n.substring(h,e).replace(/&#?\w+;/g,a),d&&c(h),o.characters(t,0,e-h),h=e)}function c(e,t){for(;u<=e&&(t=l.exec(n));)s=t.index,u=s+t[0].length,d.lineNumber++;d.columnNumber=e-s+1}var s=0,u=0,l=/.*(?:\r\n?|\n)|.*$/g,d=o.locator,f=[{currentNSMap:e}],p={},h=0;for(;;){try{var m,g,y=n.indexOf("<",h);if(y<0)return n.substr(h).match(/^\s*$/)||(m=o.doc,g=m.createTextNode(n.substr(h)),m.appendChild(g),o.currentElement=g);switch(h<y&&t(y),n.charAt(y+1)){case"/":var v=n.indexOf(">",y+3),b=n.substring(y+2,v),w=f.pop();v<0?(b=n.substring(y+2).replace(/[\s<].*/,""),i.error("end tag name: "+b+" is not complete:"+w.tagName),v=y+1+b.length):b.match(/\s</)&&(b=b.replace(/[\s<].*/,""),i.error("end tag name: "+b+" maybe not complete"),v=y+1+b.length);var _=w.localNSMap,E=w.tagName==b;if(E||w.tagName&&w.tagName.toLowerCase()==b.toLowerCase()){if(o.endElement(w.uri,w.localName,b),_)for(var N in _)o.endPrefixMapping(N);E||i.fatalError("end tag name: "+b+" is not match the current start tagName:"+w.tagName)}else f.push(w);v++;break;case"?":d&&c(y),v=function(e,t,n){var r=e.indexOf("?>",t);if(r){t=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(t){t[0].length;return n.processingInstruction(t[1],t[2]),r+2}return-1}return-1}(n,y,o);break;case"!":d&&c(y),v=function(e,t,n,r){{if("-"===e.charAt(t+2)){if("-"!==e.charAt(t+3))return-1;var o=e.indexOf("--\x3e",t+4);return t<o?(n.comment(e,t+4,o-t-4),o+3):(r.error("Unclosed comment"),-1)}if("CDATA["==e.substr(t+3,6)){o=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,o-t-9),n.endCDATA(),o+3}var i=function(e,t){var n,r=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;o.lastIndex=t,o.exec(e);for(;n=o.exec(e);)if(r.push(n),n[1])return r}(e,t),r=i.length;if(1<r&&/!doctype/i.test(i[0][0])){o=i[1][0],e=3<r&&/^public$/i.test(i[2][0])&&i[3][0],t=4<r&&i[4][0],r=i[r-1];return n.startDTD(o,e&&e.replace(/^(['"])(.*?)\1$/,"$2"),t&&t.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),r.index+r[0].length}}return-1}(n,y,o,i);break;default:d&&c(y);var S=new H,T=f[f.length-1].currentNSMap,v=function(e,t,n,r,o,i){var a,c=++t,s=M;for(;;){var u=e.charAt(c);switch(u){case"=":if(s===x)a=e.slice(t,c),s=I;else{if(s!==D)throw new Error("attribute equal must after attrName");s=I}break;case"'":case'"':if(s===I||s===x){if(s===x&&(i.warning('attribute value must after "="'),a=e.slice(t,c)),t=c+1,!(0<(c=e.indexOf(u,t))))throw new Error("attribute value no end '"+u+"' match");l=e.slice(t,c).replace(/&#?\w+;/g,o),n.add(a,l,t-1),s=L}else{if(s!=P)throw new Error('attribute value must after "="');l=e.slice(t,c).replace(/&#?\w+;/g,o),n.add(a,l,t),i.warning('attribute "'+a+'" missed start quot('+u+")!!"),t=c+1,s=L}break;case"/":switch(s){case M:n.setTagName(e.slice(t,c));case L:case F:case R:s=R,n.closed=!0;case P:case x:case D:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return i.error("unexpected end of input"),s==M&&n.setTagName(e.slice(t,c)),c;case">":switch(s){case M:n.setTagName(e.slice(t,c));case L:case F:case R:break;case P:case x:"/"===(l=e.slice(t,c)).slice(-1)&&(n.closed=!0,l=l.slice(0,-1));case D:s===D&&(l=a),s==P?(i.warning('attribute "'+l+'" missed quot(")!!'),n.add(a,l.replace(/&#?\w+;/g,o),t)):("http://www.w3.org/1999/xhtml"===r[""]&&l.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),n.add(l,l,t));break;case I:throw new Error("attribute value missed!!")}return c;case"":u=" ";default:if(u<=" ")switch(s){case M:n.setTagName(e.slice(t,c)),s=F;break;case x:a=e.slice(t,c),s=D;break;case P:var l=e.slice(t,c).replace(/&#?\w+;/g,o);i.warning('attribute "'+l+'" missed quot(")!!'),n.add(a,l,t);case L:s=F}else switch(s){case D:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&a.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),n.add(a,a,t),t=c,s=x;break;case L:i.warning('attribute space is required"'+a+'"!!');case F:s=x,t=c;break;case I:s=P,t=c;break;case R:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}(n,y,S,T,a,i),O=S.length;if(!S.closed&&function(e,t,n,r){var o=r[n];null==o&&((o=e.lastIndexOf("</"+n+">"))<t&&(o=e.lastIndexOf("</"+n)),r[n]=o);return o<t}(n,v,S.tagName,p)&&(S.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),d&&O){for(var C=k(d,{}),A=0;A<O;A++){var j=S[A];c(j.offset),j.locator=k(d,{})}o.locator=C,B(S,o,T)&&f.push(S),o.locator=d}else B(S,o,T)&&f.push(S);"http://www.w3.org/1999/xhtml"!==S.uri||S.closed?v++:v=function(e,t,n,r,o){if(/^(?:script|textarea)$/i.test(n)){var i=e.indexOf("</"+n+">",t),e=e.substring(t+1,i);if(/[&<]/.test(e))return/^script$/i.test(n)||(e=e.replace(/&#?\w+;/g,r)),o.characters(e,0,e.length),i}return t+1}(n,v,S.tagName,a,o)}}catch(e){i.error("element parse error: "+e),v=-1}h<v?h=v:t(Math.max(y,h)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},H.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!i.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},n.XMLReader=a},{}],22:[function(e,t,n){"use strict";var r=window,o=r.__globalAdapter={};Object.assign(o,{init:function(){e("./wrapper/builtin"),r.DOMParser=e("../../common/xmldom/dom-parser").DOMParser,e("./wrapper/unify"),e("./wrapper/fs-utils"),e("../../common/engine/globalAdapter"),e("./wrapper/systemInfo")},adaptEngine:function(){e("../../common/engine"),e("./wrapper/engine")}})},{"../../common/engine":15,"../../common/engine/globalAdapter":14,"../../common/xmldom/dom-parser":18,"./wrapper/builtin":23,"./wrapper/engine":26,"./wrapper/fs-utils":27,"./wrapper/systemInfo":28,"./wrapper/unify":29}],23:[function(e,t,n){"use strict";function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var r,i;r={"./src/Audio.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"===m(Symbol.iterator)?function(e){return m(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":m(e)},o=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(e=Object.getPrototypeOf(e)))return a(e,t,n)}var c,s=n("./src/HTMLAudioElement.js"),n=(c=s)&&c.__esModule?c:{default:c};var u=new WeakMap,l=0,d=2,f=4,o=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+m(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,n.default),o(p,[{key:"addEventListener",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};e=String(e).toLowerCase(),a(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"addEventListener",this).call(this,e,t,n),this._loaded&&-1!==this._canplayEvents.indexOf(e)&&this.dispatchEvent({type:e})}},{key:"load",value:function(){}},{key:"play",value:function(){u.get(this).play()}},{key:"resume",value:function(){u.get(this).play()}},{key:"pause",value:function(){u.get(this).pause()}},{key:"destroy",value:function(){console.log("destory: "+r(u.get(this).destroy)),u.get(this).destroy()}},{key:"canPlayType",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return"string"==typeof e&&(-1<e.indexOf("audio/mpeg")||e.indexOf("audio/mp4"))?"probably":""}},{key:"cloneNode",value:function(){var e=new p;return e.loop=this.loop,e.autoplay=this.autoplay,e.src=this.src,e}},{key:"currentTime",get:function(){return u.get(this).currentTime},set:function(e){u.get(this).seek(e)}},{key:"duration",get:function(){return u.get(this).duration}},{key:"src",get:function(){return this._src},set:function(e){this._src=e,this._loaded=!1,this.readyState=l,u.get(this).src=e}},{key:"loop",get:function(){return this._loop},set:function(e){this._loop=e,u.get(this).loop=e}},{key:"autoplay",get:function(){return this._autoplay},set:function(e){this._autoplay=e,u.get(this).autoplay=e}},{key:"paused",get:function(){return this._paused}},{key:"volume",get:function(){return this._volume},set:function(e){this._volume=e,this._muted||(u.get(this).volume=e)}},{key:"muted",get:function(){return this._muted},set:function(e){this._muted=e,u.get(this).volume=e?0:this._volume}}]),p);function p(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==m(t)&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));t.readyState=l;var n=my.createInnerAudioContext();return u.set(t,n),t._canplayEvents=["load","loadend","canplay","canplaythrough","loadedmetadata"],n.onCanPlay(function(){t._loaded=!0,t.readyState=d,t._canplayEvents.forEach(function(e){t.dispatchEvent({type:e})}),"function"==typeof t.oncanplay&&t.oncanplay()}),n.onPlay(function(){t._paused=!1,t.dispatchEvent({type:"play"}),"function"==typeof t.onplay&&t.onplay()}),n.onPause(function(){t._paused=!0,t.dispatchEvent({type:"pause"}),"function"==typeof t.onpause&&t.onpause()}),n.onEnded(function(){t._paused=!1,t.dispatchEvent({type:"ended"}),t.readyState=f,"function"==typeof t.onended&&t.onended()}),n.onError(function(){t._paused=!0,t.dispatchEvent({type:"error"}),"function"==typeof t.onerror&&t.onerror()}),e?t.src=e:t._src="",t._loop=n.loop,t._autoplay=n.autoplay,t._paused=n.paused,t._volume=n.volume,t._muted=!1,t}t.default=o},"./src/Base64.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function s(e){this.message=e}(s.prototype=new Error).name="InvalidCharacterError",t.btoa=function(e){for(var t,n,r=String(e),o="",i=0,a=c;r.charAt(0|i)||(a="=",i%1);o+=a.charAt(63&t>>8-i%1*8)){if(255<(n=r.charCodeAt(i+=.75)))throw new s("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|n}return o},t.atob=function(e){for(var t,n,r=String(e).replace(/[=]+$/,""),o="",i=0,a=0;n=r.charAt(a++);~n&&(t=i%4?64*t+n:n,i++%4)&&(o+=String.fromCharCode(255&t>>(-2*i&6))))n=c.indexOf(n);return o}},"./src/Canvas.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=my.createCanvas();a.isIDE||("tagName"in e||(e.tagName="canvas"),e.__proto__.__proto__=new i.default);return e};var r,o=n("./src/HTMLCanvasElement.js"),i=(r=o)&&r.__esModule?r:{default:r},a=n("./src/utils/util.js")},"./src/Element.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,a=n("./src/Node.js"),c=(i=a)&&i.__esModule?i:{default:i},s=n("./src/utils/noop.js");(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+m(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(u,c.default),r(u,[{key:"setAttribute",value:function(e,t){this[e]=t}},{key:"getAttribute",value:function(e){return this[e]}},{key:"setAttributeNS",value:function(e,t){this[e]=t}},{key:"getAttributeNS",value:function(e){return this[e]}}]),r=u;function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==m(t)&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return e.className="",e.children=[],e.remove=s.noop,e}t.default=r},"./src/Event.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/utils/noop.js");t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cancelBubble=!1,this.cacelable=!1,this.target=null,this.timestampe=Date.now(),this.preventDefault=r.noop,this.stopPropagation=r.noop,this.type=t}},"./src/EventIniter/MouseEvent.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}},"./src/EventIniter/TouchEvent.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("./src/Event.js")),o=a(n("./src/document.js")),i=n("./src/utils/util.js");function a(e){return e&&e.__esModule?e:{default:e}}var c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+m(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,r.default),s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==m(t)&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return e.touches=[],e.targetTouches=[],e.changedTouches=[],e.target=window.canvas,e.currentTarget=window.canvas,e}function u(n){return function(e){var t;i.isIDE||((t=new c(n)).changedTouches=e.touches,t.touches=e.touches,t.targetTouches=Array.prototype.slice.call(e.touches),o.default.dispatchEvent(t))}}t.default=c,my.onTouchStart(u("touchstart")),my.onTouchMove(u("touchmove")),my.onTouchEnd(u("touchend")),my.onTouchCancel(u("touchcancel"))},"./src/EventIniter/index.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/EventIniter/TouchEvent.js");Object.defineProperty(t,"TouchEvent",{enumerable:!0,get:function(){return i(r).default}});var o=n("./src/EventIniter/MouseEvent.js");function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"MouseEvent",{enumerable:!0,get:function(){return i(o).default}})},"./src/EventTarget.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=new WeakMap,r=(r(a,[{key:"addEventListener",value:function(e,t){var n=i.get(this);n||i.set(this,n={}),n[e]||(n[e]=[]),n[e].push(t)}},{key:"removeEventListener",value:function(e,t){var n=i.get(this);if(n){var r=n[e];if(r&&0<r.length)for(var o=r.length;o--;)if(r[o]===t){r.splice(o,1);break}}}},{key:"dispatchEvent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if("string"==typeof e.type&&i.get(this)){var t=i.get(this)[e.type];if(t)for(var n=0;n<t.length;n++)t[n].call(this,e)}}}]),a);function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.set(this,{})}t.default=r},"./src/FileReader.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(i,[{key:"construct",value:function(){}}]),i);function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i)}t.default=o},"./src/HTMLAudioElement.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/HTMLMediaElement.js");(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+m(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,((r=o)&&r.__esModule?r:{default:r}).default),n=i;function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==m(t)&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,"audio"))}t.default=n},"./src/HTMLCanvasElement.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/HTMLElement.js");(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+m(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,((r=o)&&r.__esModule?r:{default:r}).default),n=i;function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==m(t)&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,"canvas"))}t.default=n},"./src/HTMLElement.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/Element.js"),i=(r=o)&&r.__esModule?r:{default:r},a=n("./src/utils/noop.js"),c=n("./src/WindowProperties.js");(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+m(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(s,i.default),i=s;function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==m(t)&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return t.className="",t.childern=[],t.style={width:c.innerWidth+"px",height:c.innerHeight+"px"},t.focus=a.noop,t.blur=a.noop,t.innerHTML="",t.tagName=e.toUpperCase(),t}t.default=i},"./src/HTMLImageElement.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/HTMLElement.js");(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+m(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,((r=o)&&r.__esModule?r:{default:r}).default),n=i;function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==m(t)&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,"img"))}t.default=n},"./src/HTMLMediaElement.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,a=n("./src/HTMLElement.js");function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==m(t)&&"function"!=typeof t?e:t}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+m(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(s,((i=a)&&i.__esModule?i:{default:i}).default),r(s,[{key:"addTextTrack",value:function(){}},{key:"capureStream",value:function(){}},{key:"fastSeek",value:function(){}},{key:"load",value:function(){}},{key:"pause",value:function(){}},{key:"play",value:function(){}},{key:"canPlayType",value:function(){}}]),r=s;function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),e=c(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e)),c(e,e)}t.default=r},"./src/HTMLVideoElement.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("./src/HTMLMediaElement.js");(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+m(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,((r=o)&&r.__esModule?r:{default:r}).default),n=i;function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==m(t)&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,"video"))}t.default=n},"./src/Image.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=my.createImage();a.isIDE||(e.__proto__=new i.default,void 0===e.tagName&&(e.tagName="IMG"),e.onload=function(){e.dispatchEvent({type:"load"})},e.onerror=function(){e.dispatchEvent({type:"error"})});return e};var r,o=n("./src/HTMLImageElement.js"),i=(r=o)&&r.__esModule?r:{default:r},a=n("./src/utils/util.js")},"./src/ImageBitmap.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}},"./src/Node.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,a=n("./src/EventTarget.js"),c=(i=a)&&i.__esModule?i:{default:i},s=n("./src/utils/noop.js");(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+m(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(u,c.default),r(u,[{key:"appendChild",value:function(e){if(!(e instanceof u||e instanceof window.Node))throw new TypeError("Failed to executed 'appendChild' on 'Node': parameter 1 is not of type 'Node'.");this.childNodes.push(e)}},{key:"cloneNode",value:function(){var e=Object.create(this);return Object.assign(e,this)}},{key:"removeChild",value:function(t){var e=this.childNodes.findIndex(function(e){return e===t});return-1<e?this.childNodes.splice(e,1):null}}]),r=u;function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==m(t)&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return e.childNodes=[],e.insertBefor=s.noop,e}t.default=r},"./src/WebGLRenderingContext.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}},"./src/WebSocket.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n("./src/utils/util.js");var a=new WeakMap,r=(r(c,[{key:"send",value:function(e){var t=this;if("string"!=typeof e&&!(e instanceof ArrayBuffer))throw new TypeError("Failed to send message: The data "+e+" is invalid");var n={};e instanceof ArrayBuffer&&(e=(0,i.transformArrayBufferToBase64)(e),n.isBuffer=!0),n.data=e,n.fail=function(e){"function"==typeof t.onerror&&t.onerror(new Error(e.errorMessage))},a.get(this).send(n)}},{key:"close",value:function(){this.readyState=this.CLOSING,a.get(this).close()}}]),c);function c(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.OPEN=c.OPEN,this.CONNECTING=c.CONNECTING,this.CLOSING=c.CLOSING,this.CLOSED=c.CLOSED,this.binaryType="",this.bufferedAmount=0,this.extensions="",this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this.protocol="",this.readyState=this.CLOSED,"string"!=typeof e||!/(^ws:\/\/)|(^wss:\/\/)/.test(e))throw new TypeError("Failed to construct 'WebSocket': The URL='"+e+"' is invalid");this.url=e,this.readyState=this.CONNECTING;n=my.connectSocket({url:e,multiple:!0,protocols:Array.isArray(n)?n:[n],fail:function(e){"function"==typeof t.onerror&&t.onerror(new Error(e.errorMessage))}});a.set(this,n),n.onOpen(function(e){t.readyState=t.OPEN,"function"==typeof t.onopen&&t.onopen(e)}),n.onError(function(e){"function"==typeof t.onerror&&t.onerror(new Error(e.errorMessage))}),n.onMessage(function(e){"function"==typeof t.onmessage&&(e.data?((e=e.data).isBuffer&&(e.data=(0,i.base64ToArrayBuffer)(e.data)),t.onmessage(e)):t.onmessage(null))}),n.onClose(function(e){t.readyState=t.CLOSED,"function"==typeof t.onclose&&t.onclose(e)})}r.CONNECTING=0,r.OPEN=1,r.CLOSING=2,r.CLOSED=3,t.default=r},"./src/WindowProperties.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=my.getSystemInfoSync(),o=r.screenWidth,i=r.screenHeight,a=r.pixelRatio,c=r.windowHeight,r=r.windowWidth,c=t.innerHeight=c,r=t.innerWidth=r;t.devicePixelRatio=a,t.screen={width:o,height:i,availWidth:r,availHeight:c,availLeft:0,availTop:0}},"./src/XMLHttpRequest.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,a=n("./src/EventTarget.js"),n=(i=a)&&i.__esModule?i:{default:i};var c=new WeakMap,s=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap;function f(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.target=t.target||this,"function"==typeof this["on"+e]&&this["on"+e].apply(this,t)}function p(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.readyState=e,t.readyState=e,f.call(this,"readystatechange",t)}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+m(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(h,n.default),r(h,[{key:"abort",value:function(){var e=d.get(this);e&&e.abort()}},{key:"getAllResponseHeaders",value:function(){var t=l.get(this);return Object.keys(t).map(function(e){return e+": "+t[e]}).join("\n")}},{key:"open",value:function(e,t){s.set(this,e),c.set(this,t),p.call(this,1)}},{key:"overrideMimeType",value:function(){}},{key:"send",value:function(){var a=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if(1!==this.readyState)throw new Error("Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.");e=my.request({data:e,url:c.get(this),method:s.get(this),headers:u.get(this),timeout:this.timeout,dataType:this.dataType,responseType:this.responseType,success:function(e){var t=e.data,n=e.status,e=e.headers;if("string"!=typeof t&&!(t instanceof ArrayBuffer))try{t=JSON.stringify(t)}catch(e){}if(a.status=n,l.set(a,e||{}),f.call(a,"loadstart"),p.call(a,2),p.call(a,3),(a.response=t)instanceof ArrayBuffer){a.responseText="";for(var r=new Uint8Array(t),o=r.byteLength,i=0;i<o;i++)a.responseText+=String.fromCharCode(r[i])}else a.responseText=t;p.call(a,4),f.call(a,"load"),f.call(a,"loadend")},fail:function(e){var t=e.errorMessage,t=void 0===t?"":t;((e.data||"").includes("超时")||t.includes("超时"))&&f.call(a,"timeout"),f.call(a,"error"),f.call(a,"loadend")}});d.set(this,e)}},{key:"setRequestHeader",value:function(e,t){var n=u.get(this);n[e]=t,u.set(this,n)}},{key:"addEventListener",value:function(e,t){var n=this;"function"==typeof t&&(this["on"+e]=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.target=e.target||n,t.call(n,e)})}},{key:"removeEventListener",value:function(e,t){this["on"+e]===t&&(this["on"+e]=null)}}]),r=h;function h(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==m(t)&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return e.onabort=null,e.onerror=null,e.onload=null,e.onloadstart=null,e.onprogress=null,e.ontimeout=null,e.onloadend=null,e.onreadystatechange=null,e.readyState=0,e.response=null,e.responseText=null,e.responseType="",e.dataType="string",e.responseXML=null,e.status=0,e.statusText="",e.upload={},e.withCredentials=!1,e.timeout=0,u.set(e,{"content-type":"application/x-www-form-urlencoded"}),l.set(e,{}),e}t.default=r},"./src/document.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("./src/Event.js")),o=u(n("./src/HTMLElement.js")),i=u(n("./src/HTMLVideoElement.js")),a=u(n("./src/Image.js")),c=u(n("./src/Audio.js")),s=u(n("./src/Canvas.js"));n("./src/EventIniter/index.js");n=n("./src/WindowProperties.js");function u(e){return e&&e.__esModule?e:{default:e}}var l,d={};window.document&&window.document.getElementsByTagName&&(l=window.document.getElementsByTagName.bind(window.document));var f={readyState:"complete",visibilityState:"visible",fullscreen:!0,hidden:!1,style:{},scripts:[],location:window.location,ontouchstart:null,ontouchmove:null,ontouchend:null,onvisibilitychange:null,head:new o.default("head"),body:new o.default("body"),documentElement:{clientWidth:n.screen.width,clientHight:n.screen.height,clientLeft:0,clientTop:0,scrollLeft:0,scrollTop:0},createElement:function(e){return"canvas"===(e=e.toLowerCase())?new s.default:"audio"===e?new c.default:"img"===e?new a.default:"video"===e?new i.default:new o.default(e)},createElementNS:function(e,t){return this.createElement(t)},getElementById:function(e){return e===window.canvas.id?window.canvas:null},getElementsByTagName:function(e){return l?l(e):"head"===(e=e.toLowerCase())?[f.head]:"body"===e?[f.body]:"canvas"===e?[window.canvas]:[]},getElementsByTagNameNS:function(e,t){return this.getElementsByTagName(t)},getElementsByName:function(e){return"head"===e?[f.head]:"body"===e?[f.body]:"canvas"===e?[window.canvas]:[]},querySelector:function(e){return"head"===e?f.head:"body"===e?f.body:"canvas"===e||e==="#"+window.canvas.id?window.canvas:null},querySelectorAll:function(e){return"head"===e?[f.head]:"body"===e?[f.body]:"canvas"===e?[window.canvas]:[]},addEventListener:function(e,t){d[e]||(d[e]=[]),d[e].push(t)},removeEventListener:function(e,t){var n=d[e];if(n&&0<n.length)for(var r=n.length;r--;)if(n[r]===t){n.splice(r,1);break}},dispatchEvent:function(e){var t=e.type,n=d[t];if(n)for(var r=0;r<n.length;r++)n[r](e);window.canvas.dispatchEvent(e),e.target&&"function"==typeof e.target["on"+t]&&e.target["on"+t](e)}};function p(t){return function(){f.visibilityState=t?"visible":"hidden";var e=!t;f.hidden!==e&&(f.hidden=e,(e=new r.default("visibilitychange")).target=f,e.timeStamp=Date.now(),f.dispatchEvent(e))}}my.onHide&&my.onHide(p(!1)),my.onShow&&my.onShow(p(!0)),t.default=f},"./src/index.js":function(e,t,n){var r,i=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n("./src/window.js")),o=n("./src/document.js"),a=(r=o)&&r.__esModule?r:{default:r},c=n("./src/utils/util.js");!function(){if(i.document=a.default,i.addEventListener=function(e,t){i.document.addEventListener(e,t)},i.removeEventListener=function(e,t){i.document.removeEventListener(e,t)},i.dispatchEvent=i.document.dispatchEvent,c.isIDE){for(var e in i){var t=Object.getOwnPropertyDescriptor(window,e);t&&!0!==t.configurable||Object.defineProperty(window,e,{value:i[e]})}for(var n in i.document){var r=Object.getOwnPropertyDescriptor(window.document,n);r&&!0!==r.configurable||Object.defineProperty(window.document,n,{value:i.document[n]})}window.parent=window,window.my=my}else for(var o in i.my=my,i)window[o]=i[o]}()},"./src/localStorage.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default={get length(){var e=my.getStorageInfoSync().keys;return console.log("getStorageInfoSync: "+JSON.stringify(my.getStorageInfoSync())),e.length},key:function(e){return my.getStorageInfoSync().keys[e]},getItem:function(e){e=my.getStorageSync({key:e});return null===e.data?null:e.data},setItem:function(e,t){return window.asyncStorage?my.setStorage({key:e,data:t}):my.setStorageSync({key:e,data:t})},removeItem:function(e){return window.asyncStorage?my.removeStorage({key:e}):my.removeStorageSync({key:e})},clear:function(){return window.asyncStorage?my.clearStorage():my.clearStorageSync()}}},"./src/location.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default={href:"game.js",hostname:"alipay.com",reload:function(){},replace:function(){}}},"./src/navigator.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/utils/noop.js"),o=my.getSystemInfoSync(),i=o||{},a=i.system,c=i.platform,n=void 0===c?"android":c,c=i.language,i=-1!==n.toLowerCase().indexOf("android");my.onNetworkStatusChange&&my.onNetworkStatusChange(function(e){s.onLine=!!e.isConnected});var a=i?"Android; CPU "+a:"iPhone; CPU iPhone OS "+a+" like Mac OS X",o="Mozilla/5.0 ("+a+") AliApp(AP/"+o.version+") AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 AlipayMiniGame NetType/WIFI Language/"+c,s={platform:n,language:c,userAgent:o=window.navigator?window.navigator.userAgent+" AlipayMiniGame":o,appVersion:"5.0 ("+a+") AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1",geolocation:{getCurrentPosition:function(r){if("function"!=typeof r)throw new TypeError("Failed to execute 'getCurrentPosition' on 'Geolocation': 1 argument required, but only 0 present.");my.getLocation({success:function(e){var t=e.accuracy,n=e.latitude,e=e.longitude;r({coords:{accuracy:t,latitude:n,longitude:e},timestamp:(new Date).valueOf()})}})},watchPositon:r.noop,clearWatch:r.noop}};t.default=s},"./src/utils/noop.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){}},"./src/utils/util.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isIDE=void 0,t.transformArrayBufferToBase64=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return(0,i.btoa)(t)},t.arrayBufferToBase64=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=String(e),r="",o=0,i=void 0;for(;n.charAt(0|o)||(t="=",o%1);){o+=.75;var a=n.charCodeAt(o);if(255<a)throw new Error('"btoa" failed');a=63&(i=i<<8|a)>>8-o%1*8;r+=t.charAt(a)}return r}(t)},t.base64ToArrayBuffer=function(e){for(var t=function(e){var t,n,r="",o=String(e).replace(/[=]+$/,""),i=0,a=0;for(;n=o.charAt(a);)a+=1,~(n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n))&&(t=i%4?64*t+n:n,i++%4&&(r+=String.fromCharCode(255&t>>(-2*i&6))));return r}(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer};var i=n("./src/Base64.js");t.isIDE=window.navigator&&/AlipayIDE/.test(window.navigator.userAgent)},"./src/window.js":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.canvas=t.location=t.atob=t.btoa=t.localStorage=t.MouseEvent=t.TouchEvent=t.WebGLRenderingContext=t.HTMLVideoElement=t.HTMLAudioElement=t.HTMLMediaElement=t.HTMLCanvasElement=t.HTMLImageElement=t.HTMLElement=t.Element=t.FileReader=t.Audio=t.ImageBitmap=t.Image=t.WebSocket=t.XMLHttpRequest=t.navigator=void 0;var r=n("./src/navigator.js");Object.defineProperty(t,"navigator",{enumerable:!0,get:function(){return N(r).default}});var o=n("./src/XMLHttpRequest.js");Object.defineProperty(t,"XMLHttpRequest",{enumerable:!0,get:function(){return N(o).default}});var i=n("./src/WebSocket.js");Object.defineProperty(t,"WebSocket",{enumerable:!0,get:function(){return N(i).default}});var a=n("./src/Image.js");Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return N(a).default}});var c=n("./src/ImageBitmap.js");Object.defineProperty(t,"ImageBitmap",{enumerable:!0,get:function(){return N(c).default}});var s=n("./src/Audio.js");Object.defineProperty(t,"Audio",{enumerable:!0,get:function(){return N(s).default}});var u=n("./src/FileReader.js");Object.defineProperty(t,"FileReader",{enumerable:!0,get:function(){return N(u).default}});var l=n("./src/Element.js");Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return N(l).default}});var d=n("./src/HTMLElement.js");Object.defineProperty(t,"HTMLElement",{enumerable:!0,get:function(){return N(d).default}});var f=n("./src/HTMLImageElement.js");Object.defineProperty(t,"HTMLImageElement",{enumerable:!0,get:function(){return N(f).default}});var p=n("./src/HTMLCanvasElement.js");Object.defineProperty(t,"HTMLCanvasElement",{enumerable:!0,get:function(){return N(p).default}});var h=n("./src/HTMLMediaElement.js");Object.defineProperty(t,"HTMLMediaElement",{enumerable:!0,get:function(){return N(h).default}});var m=n("./src/HTMLAudioElement.js");Object.defineProperty(t,"HTMLAudioElement",{enumerable:!0,get:function(){return N(m).default}});var g=n("./src/HTMLVideoElement.js");Object.defineProperty(t,"HTMLVideoElement",{enumerable:!0,get:function(){return N(g).default}});var y=n("./src/WebGLRenderingContext.js");Object.defineProperty(t,"WebGLRenderingContext",{enumerable:!0,get:function(){return N(y).default}});var v=n("./src/EventIniter/index.js");Object.defineProperty(t,"TouchEvent",{enumerable:!0,get:function(){return v.TouchEvent}}),Object.defineProperty(t,"MouseEvent",{enumerable:!0,get:function(){return v.MouseEvent}});var b=n("./src/localStorage.js");Object.defineProperty(t,"localStorage",{enumerable:!0,get:function(){return N(b).default}});var w=n("./src/Base64.js");Object.defineProperty(t,"btoa",{enumerable:!0,get:function(){return w.btoa}}),Object.defineProperty(t,"atob",{enumerable:!0,get:function(){return w.atob}});var _=n("./src/WindowProperties.js");Object.keys(_).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}})}),t.alert=function(e){my.alert({content:e})},t.focus=function(){},t.blur=function(){};var E=N(n("./src/Canvas.js")),n=N(n("./src/location.js"));function N(e){return e&&e.__esModule?e:{default:e}}t.location=n.default;window.screencanvas=window.screencanvas||new E.default,window.self=window;t.canvas=window.screencanvas}},i={},o.m=r,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===m(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s="./src/index.js")},{}],24:[function(e,t,n){"use strict";cc&&cc.audioEngine&&(cc.audioEngine._maxAudioInstance=6)},{}],25:[function(e,t,n){"use strict";var r,o,i,a,c,s;cc&&cc.Label&&(r=cc.gfx,o=cc.Label,a=(i=document.createElement("canvas")).getContext("2d"),c={canvas:i,context:a},cc.game.on(cc.game.EVENT_ENGINE_INITED,function(){Object.assign(o._canvasPool,{get:function(){return c},put:function(){}})}),s=o.prototype._updateMaterialWebgl,Object.assign(o.prototype,{_updateMaterialWebgl:function(){s.call(this);var e,t,n=this._materials[0];this._frame&&n&&(e=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,t=__globalAdapter.isDevTool||this.font instanceof cc.BitmapFont?cc.macro.BlendFactor.SRC_ALPHA:cc.macro.BlendFactor.ONE,n.effect.setBlend(!0,r.BLEND_FUNC_ADD,t,e,r.BLEND_FUNC_ADD,t,e))}}))},{}],26:[function(e,t,n){"use strict";e("./Label"),e("./AudioEngine")},{"./AudioEngine":24,"./Label":25}],27:[function(e,t,n){"use strict";var o=my.getFileSystemManager?my.getFileSystemManager():null,r=/the maximum size of the file storage/,a={fs:o,isOutOfStorage:function(e){return r.test(e)},getUserDataPath:function(){return my.env.USER_DATA_PATH},checkFsValid:function(){return!!o||(console.warn("Can not get the file system!"),!1)},deleteFile:function(t,n){o.unlink({filePath:t,success:function(){n&&n(null)},fail:function(e){console.warn("Delete file failed: path: ".concat(t," message: ").concat(e.errorMessage)),n&&n(new Error(e.errorMessage))}})},downloadFile:function(t,n,e,r,o){var i={url:t,success:function(e){n?a.copyFile(e.apFilePath,n,o):o&&o(null,e.apFilePath)},fail:function(e){console.warn("Download file failed: path: ".concat(t," message: ").concat(e.errorMessage)),o&&o(new Error(e.errorMessage),null)}};e&&(i.header=e);i=my.downloadFile(i);r&&i.onProgressUpdate(r)},saveFile:function(e,t,n){a.copyFile(e,t,n)},copyFile:function(t,e,n){o.copyFile({srcPath:t,destPath:e,success:function(){n&&n(null)},fail:function(e){console.warn("Copy file failed: path: ".concat(t," message: ").concat(e.errorMessage)),n&&n(new Error(e.errorMessage))}})},writeFile:function(t,e,n,r){o.writeFile({filePath:t,encoding:n,data:e,success:function(){r&&r(null)},fail:function(e){console.warn("Write file failed: path: ".concat(t," message: ").concat(e.errorMessage)),r&&r(new Error(e.errorMessage))}})},writeFileSync:function(t,e,n){try{return o.writeFileSync({filePath:t,data:e,encoding:n}),null}catch(e){return console.warn("Write file failed: path: ".concat(t," message: ").concat(e.message)),new Error(e.message)}},readFile:function(t,e,n){o.readFile({filePath:t,encoding:e,success:function(e){n&&n(null,e.data)},fail:function(e){console.warn("Read file failed: path: ".concat(t," message: ").concat(e.errorMessage)),n&&n(new Error(e.errorMessage),null)}})},readDir:function(t,n){o.readdir({dirPath:t,success:function(e){n&&n(null,e.files)},fail:function(e){console.warn("Read directory failed: path: ".concat(t," message: ").concat(e.errorMessage)),n&&n(new Error(e.errorMessage),null)}})},readText:function(e,t){a.readFile(e,"utf8",t)},readArrayBuffer:function(e,t){a.readFile(e,"",t)},readJson:function(r,o){a.readFile(r,"utf8",function(t,e){var n=null;if(!t)try{n=JSON.parse(e)}catch(e){console.warn("Read json failed: path: ".concat(r," message: ").concat(e.message)),t=new Error(e.message)}o&&o(t,n)})},readJsonSync:function(t){try{var e=o.readFileSync({filePath:t,encoding:"utf8"});return JSON.parse(e.data)}catch(e){return console.warn("Read json failed: path: ".concat(t," message: ").concat(e.message)),new Error(e.message)}},makeDirSync:function(t,e){try{return o.mkdirSync({dirPath:t,recursive:e}),null}catch(e){return console.warn("Make directory failed: path: ".concat(t," message: ").concat(e.message)),new Error(e.message)}},rmdirSync:function(t,e){try{o.rmdirSync({dirPath:t,recursive:e})}catch(e){return console.warn("rm directory failed: path: ".concat(t," message: ").concat(e.message)),new Error(e.message)}},exists:function(e,t){o.access({path:e,success:function(){t&&t(!0)},fail:function(){t&&t(!1)}})},loadSubpackage:function(e,t,n){throw new Error("Not Implemented")},unzip:function(t,e,n){o.unzip({zipFilePath:t,targetPath:e,success:function(){n&&n(null)},fail:function(e){console.warn("unzip failed: path: ".concat(t," message: ").concat(e.errorMessage)),n&&n(new Error("unzip failed: "+e.errorMessage))}})}};window.fsUtils=t.exports=a},{}],28:[function(e,t,n){"use strict";var r=window.__globalAdapter,o=r.adaptSys;Object.assign(r,{adaptSys:function(e){o.call(this,e),e.platform=e.ALIPAY_GAME}})},{}],29:[function(e,t,n){"use strict";var r,o,a,c,i=e("../../../common/utils");window.__globalAdapter&&(r=function(e,t){var n,r={},o=e.x,i=e.y;c&&(n=o,o=-i,i=n),r.x=o,r.y=i,r.z=e.z,a&&a(r)},(o=window.__globalAdapter).isSubContext=!1,o.isDevTool=window.navigator&&/AlipayIDE/.test(window.navigator.userAgent),i.cloneMethod(o,my,"getSystemInfoSync"),o.onTouchStart=function(t){window.canvas.addEventListener("touchstart",function(e){t&&t(e)})},o.onTouchMove=function(t){window.canvas.addEventListener("touchmove",function(e){t&&t(e)})},o.onTouchEnd=function(t){window.canvas.addEventListener("touchend",function(e){t&&t(e)})},o.onTouchCancel=function(t){window.canvas.addEventListener("touchcancel",function(e){t&&t(e)})},o.createInnerAudioContext=function(){var e=my.createInnerAudioContext();return e.onCanplay=e.onCanPlay.bind(e),e},i.cloneMethod(o,my,"setPreferredFramesPerSecond"),i.cloneMethod(o,my,"showKeyboard"),i.cloneMethod(o,my,"hideKeyboard"),i.cloneMethod(o,my,"updateKeyboard"),i.cloneMethod(o,my,"onKeyboardInput"),i.cloneMethod(o,my,"onKeyboardConfirm"),i.cloneMethod(o,my,"onKeyboardComplete"),i.cloneMethod(o,my,"offKeyboardInput"),i.cloneMethod(o,my,"offKeyboardConfirm"),i.cloneMethod(o,my,"offKeyboardComplete"),i.cloneMethod(o,my,"getOpenDataContext"),i.cloneMethod(o,my,"onMessage"),i.cloneMethod(o,my,"getSharedCanvas"),o.loadFont=function(e){return"Arial"},i.cloneMethod(o,my,"onShow"),i.cloneMethod(o,my,"onHide"),a=null,i=(e=my.getSystemInfoSync()).windowWidth,c=e.windowHeight<i,Object.assign(o,{startAccelerometer:function(e){a=e,my.onAccelerometerChange&&my.onAccelerometerChange(r)},stopAccelerometer:function(){my.offAccelerometerChange&&my.offAccelerometerChange(r)}}))},{"../../../common/utils":17}]},{},[22]);